<!-- 引入wxs -->
<wxs src="../../utils/handle/handlewxs.wxs" module="getObjectWxs"></wxs>
<view class="toggle">
  <view class="left">
    <text class="toggle-text">年纪录</text>
    <van-switch custom-class="custom-switch" active-color="var(----default-color)" checked="{{ false }}" loading="{{false}}" size="45rpx" />
  </view>
  <view class="right">
    <van-button custom-class="custom-button" color="var(--default-color)" size="small">导出纪录</van-button>
  </view>
</view>
<view class="top-container">
  <!-- 年月 -->
  <view class="year-month">
    <view class="time grey-text">
      2025年
    </view>
    <van-icon name="arrow" class="icon-play" />
    <view class="time">
      <text class="month-num">3</text>月
    </view>
  </view>
  <!-- 竖线占位 -->
  <view class="placeholder-box">
    <view class="placeholder"></view>
  </view>
  <!-- 月收入 -->
  <view class="earning">
    <view class="grey-text">
      月收入
    </view>
    <view class="amount">
      12000
    </view>
  </view>
  <!-- 月支出 -->
  <view class="expenditure">
    <view class="grey-text">
      月支出
    </view>
    <view class="amount">
      298
    </view>
  </view>
  <!-- 月结余 -->
  <view class="surplus">
    <view class="grey-text">
      月结余
    </view>
    <view class="amount">
      -11702
    </view>
  </view>
</view>
<van-search value="{{ value }}" shape="round" background="var(--grey-bg-color)" placeholder="请输入搜索关键词" />
<van-cell-group inset wx:for="{{recordList}}" wx:for-item="item" wx:key="index">
  <view class="disburse-item">
    <view class="top-item grey-text">
      <!-- 使用wxs渲染模板内容 -->
      <text>{{getObjectWxs.getFirstKey(item)}}</text>
      <text>支出总额：<text>{{getObjectWxs.computeAmount(item,getObjectWxs.getFirstKey(item))}}</text></text>
    </view>
    <van-cell wx:for="{{item[getObjectWxs.getFirstKey(item)]}}" wx:for-item="record" wx:key="id" title="{{record.name}}" value="-{{record.amount}}" label="{{record.detail}}" value-class="value-style" />
  </view>

</van-cell-group>